//-------------------------------------------------------------------------------
define(["modal", "text!./error message.html", "jquery", "core/jsRender/jsrender"], function(modal, tpl){
//-------------------------------------------------------------------------------
	var template = $.templates(tpl);

	$(document).ajaxError(onGlobalError);
	//-------------------------------------------------------------------------------
	function onGlobalError(event, xhr, ajaxSettings){
	//-------------------------------------------------------------------------------
		modal.open(template.render(xhr));
	}
	//-------------------------------------------------------------------------------
});
//-------------------------------------------------------------------------------
