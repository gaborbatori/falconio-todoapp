//-------------------------------------------------------------------------------
define(["modal", "text!./modal.html"], function(modal, tpl){
//-------------------------------------------------------------------------------
	var template = $.templates(tpl);

	return {
		show: show
	};
	//-------------------------------------------------------------------------------
	function show(){
	//-------------------------------------------------------------------------------
		var $defer = $.Deferred(),
			$modal = modal.open(template.render({})).on("click", "a.button[name=confirm]", confirm);

		return $defer.promise();
		//-------------------------------------------------------------------------------
		function confirm(){
		//-------------------------------------------------------------------------------
			$defer.resolve();
			$modal.close();
		}
		//-------------------------------------------------------------------------------
	}
	//-------------------------------------------------------------------------------
});
//-------------------------------------------------------------------------------
